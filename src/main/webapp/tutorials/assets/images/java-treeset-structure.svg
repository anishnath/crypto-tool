<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 550">
    <!-- Background -->
    <rect width="850" height="550" fill="#ffffff"/>

    <!-- Title -->
    <text x="425" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">TreeSet Internal Structure</text>
    <text x="425" y="58" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">Red-Black Tree for sorted unique elements - O(log n) operations</text>

    <!-- Add operation flow -->
    <g transform="translate(30, 85)">
        <text x="0" y="0" font-family="Arial" font-size="13" font-weight="bold" fill="#7b1fa2">TreeSet&lt;Integer&gt; set = new TreeSet&lt;&gt;();</text>
        <text x="0" y="20" font-family="Arial" font-size="12" fill="#9c27b0">set.add(50); set.add(30); set.add(70); set.add(20); set.add(40); set.add(60); set.add(80);</text>
    </g>

    <!-- Red-Black Tree Structure -->
    <g transform="translate(425, 150)">
        <!-- Root Node (50) - Black -->
        <circle cx="0" cy="0" r="28" fill="#424242" stroke="#212121" stroke-width="3"/>
        <text x="0" y="6" text-anchor="middle" font-family="Monospace" font-size="16" font-weight="bold" fill="#fff">50</text>

        <!-- Left subtree -->
        <!-- Node 30 - Red -->
        <line x1="-15" y1="25" x2="-120" y2="70" stroke="#424242" stroke-width="2"/>
        <circle cx="-120" cy="85" r="28" fill="#c62828" stroke="#b71c1c" stroke-width="3"/>
        <text x="-120" y="91" text-anchor="middle" font-family="Monospace" font-size="16" font-weight="bold" fill="#fff">30</text>

        <!-- Node 20 - Black -->
        <line x1="-135" y1="110" x2="-180" y2="155" stroke="#424242" stroke-width="2"/>
        <circle cx="-180" cy="170" r="25" fill="#424242" stroke="#212121" stroke-width="2"/>
        <text x="-180" y="176" text-anchor="middle" font-family="Monospace" font-size="14" font-weight="bold" fill="#fff">20</text>

        <!-- Node 40 - Black -->
        <line x1="-105" y1="110" x2="-60" y2="155" stroke="#424242" stroke-width="2"/>
        <circle cx="-60" cy="170" r="25" fill="#424242" stroke="#212121" stroke-width="2"/>
        <text x="-60" y="176" text-anchor="middle" font-family="Monospace" font-size="14" font-weight="bold" fill="#fff">40</text>

        <!-- Right subtree -->
        <!-- Node 70 - Red -->
        <line x1="15" y1="25" x2="120" y2="70" stroke="#424242" stroke-width="2"/>
        <circle cx="120" cy="85" r="28" fill="#c62828" stroke="#b71c1c" stroke-width="3"/>
        <text x="120" y="91" text-anchor="middle" font-family="Monospace" font-size="16" font-weight="bold" fill="#fff">70</text>

        <!-- Node 60 - Black -->
        <line x1="105" y1="110" x2="60" y2="155" stroke="#424242" stroke-width="2"/>
        <circle cx="60" cy="170" r="25" fill="#424242" stroke="#212121" stroke-width="2"/>
        <text x="60" y="176" text-anchor="middle" font-family="Monospace" font-size="14" font-weight="bold" fill="#fff">60</text>

        <!-- Node 80 - Black -->
        <line x1="135" y1="110" x2="180" y2="155" stroke="#424242" stroke-width="2"/>
        <circle cx="180" cy="170" r="25" fill="#424242" stroke="#212121" stroke-width="2"/>
        <text x="180" y="176" text-anchor="middle" font-family="Monospace" font-size="14" font-weight="bold" fill="#fff">80</text>
    </g>

    <!-- Sorted Order Output -->
    <g transform="translate(50, 380)">
        <rect x="0" y="0" width="750" height="55" rx="8" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
        <text x="375" y="22" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold" fill="#2e7d32">In-Order Traversal (Always Sorted!)</text>

        <!-- Sorted elements -->
        <g transform="translate(75, 32)">
            <rect x="0" y="0" width="40" height="25" rx="4" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
            <text x="20" y="17" text-anchor="middle" font-family="Monospace" font-size="12" fill="#1b5e20">20</text>
        </g>
        <text x="140" y="50" font-family="Arial" font-size="14" fill="#4caf50">&amp;rarr;</text>
        <g transform="translate(160, 32)">
            <rect x="0" y="0" width="40" height="25" rx="4" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
            <text x="20" y="17" text-anchor="middle" font-family="Monospace" font-size="12" fill="#1b5e20">30</text>
        </g>
        <text x="225" y="50" font-family="Arial" font-size="14" fill="#4caf50">&amp;rarr;</text>
        <g transform="translate(245, 32)">
            <rect x="0" y="0" width="40" height="25" rx="4" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
            <text x="20" y="17" text-anchor="middle" font-family="Monospace" font-size="12" fill="#1b5e20">40</text>
        </g>
        <text x="310" y="50" font-family="Arial" font-size="14" fill="#4caf50">&amp;rarr;</text>
        <g transform="translate(330, 32)">
            <rect x="0" y="0" width="40" height="25" rx="4" fill="#81c784" stroke="#388e3c" stroke-width="2"/>
            <text x="20" y="17" text-anchor="middle" font-family="Monospace" font-size="12" font-weight="bold" fill="#1b5e20">50</text>
        </g>
        <text x="395" y="50" font-family="Arial" font-size="14" fill="#4caf50">&amp;rarr;</text>
        <g transform="translate(415, 32)">
            <rect x="0" y="0" width="40" height="25" rx="4" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
            <text x="20" y="17" text-anchor="middle" font-family="Monospace" font-size="12" fill="#1b5e20">60</text>
        </g>
        <text x="480" y="50" font-family="Arial" font-size="14" fill="#4caf50">&amp;rarr;</text>
        <g transform="translate(500, 32)">
            <rect x="0" y="0" width="40" height="25" rx="4" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
            <text x="20" y="17" text-anchor="middle" font-family="Monospace" font-size="12" fill="#1b5e20">70</text>
        </g>
        <text x="565" y="50" font-family="Arial" font-size="14" fill="#4caf50">&amp;rarr;</text>
        <g transform="translate(585, 32)">
            <rect x="0" y="0" width="40" height="25" rx="4" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
            <text x="20" y="17" text-anchor="middle" font-family="Monospace" font-size="12" fill="#1b5e20">80</text>
        </g>
    </g>

    <!-- NavigableSet Methods -->
    <g transform="translate(50, 450)">
        <rect x="0" y="0" width="365" height="80" rx="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
        <text x="182" y="22" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold" fill="#1565c0">NavigableSet Methods</text>
        <text x="15" y="42" font-family="Monospace" font-size="10" fill="#0d47a1">set.first()      // 20 (smallest)</text>
        <text x="15" y="56" font-family="Monospace" font-size="10" fill="#0d47a1">set.last()       // 80 (largest)</text>
        <text x="15" y="70" font-family="Monospace" font-size="10" fill="#0d47a1">set.headSet(50)  // [20, 30, 40]</text>
    </g>

    <!-- Key Characteristics -->
    <g transform="translate(435, 450)">
        <rect x="0" y="0" width="365" height="80" rx="8" fill="#fff3e0" stroke="#ff9800" stroke-width="2"/>
        <text x="182" y="22" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold" fill="#e65100">TreeSet vs HashSet</text>
        <text x="15" y="42" font-family="Arial" font-size="11" fill="#bf360c">TreeSet: O(log n) - Sorted, No nulls</text>
        <text x="15" y="58" font-family="Arial" font-size="11" fill="#bf360c">HashSet: O(1) - Unordered, One null allowed</text>
        <text x="15" y="74" font-family="Arial" font-size="11" fill="#e65100">Both: Unique elements only</text>
    </g>

    <!-- Legend -->
    <g transform="translate(620, 120)">
        <text x="0" y="0" font-family="Arial" font-size="12" font-weight="bold" fill="#333">Legend</text>
        <circle cx="12" cy="20" r="10" fill="#424242" stroke="#212121" stroke-width="2"/>
        <text x="30" y="25" font-family="Arial" font-size="11" fill="#424242">Black Node</text>
        <circle cx="12" cy="48" r="10" fill="#c62828" stroke="#b71c1c" stroke-width="2"/>
        <text x="30" y="53" font-family="Arial" font-size="11" fill="#c62828">Red Node</text>
    </g>

    <!-- Watermark -->
    <text x="840" y="540" font-family="Arial, sans-serif" font-size="12" fill="#999" text-anchor="end">8gwifi.org/tutorials</text>
</svg>