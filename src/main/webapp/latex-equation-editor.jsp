<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- SEO Meta Tags -->
    <title>Math Equation Editor Online – Free | 8gwifi.org</title>
    <meta name="description" content="Free online math equation editor - create formulas, fractions, symbols & equations instantly. 200+ templates, live preview, export as PNG/SVG. No download needed. Perfect for students, teachers & professionals.">
    <meta name="keywords" content="math equation editor, equation builder, math formula maker, online equation editor, create math equations, equation creator, mathematical formula builder, free equation editor, math symbols, fraction maker, equation generator, mathtype alternative, equation maker online, write math formulas, math formula creator">
    <meta name="author" content="8gwifi.org">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <link rel="canonical" href="https://8gwifi.org/latex-equation-editor.jsp">

    <!-- Open Graph / Facebook / LinkedIn -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://8gwifi.org/latex-equation-editor.jsp">
    <meta property="og:title" content="Math Equation Editor Online – Free | 8gwifi.org">
    <meta property="og:description" content="Create math equations, formulas & fractions online. Free tool with 200+ symbols, live preview, export as PNG/SVG. No download needed - works instantly in browser!">
    <meta property="og:image" content="https://8gwifi.org/images/site/latex-editor-preview.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="8gwifi.org">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://8gwifi.org/latex-equation-editor.jsp">
    <meta name="twitter:title" content="Math Equation Editor Online – Free | 8gwifi.org">
    <meta name="twitter:description" content="Create math equations, formulas & fractions online free. 200+ symbols, live preview, export PNG/SVG. Perfect for students & teachers!">
    <meta name="twitter:image" content="https://8gwifi.org/images/latex-editor-preview.png">
    <meta name="twitter:creator" content="@anish2good">

    <!-- Additional Meta Tags -->
    <meta name="application-name" content="Math Equation Editor">
    <meta name="apple-mobile-web-app-title" content="Math Equation Editor">
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- JSON-LD Schema Markup for Rich Results -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebApplication",
            "name": "Math Equation Editor Online",
            "alternateName": ["Mathematical Formula Builder", "Equation Creator", "Free Equation Editor"],
            "applicationCategory": "EducationalApplication",
            "operatingSystem": "Any (Web Browser)",
            "browserRequirements": "Requires JavaScript. Requires HTML5.",
            "offers": {
                "@type": "Offer",
                "price": "0",
                "priceCurrency": "USD"
            },
            "description": "Free online math equation editor - create mathematical formulas, equations, fractions and symbols instantly. Build complex equations visually using over 200+ symbols including fractions, integrals, summations, Greek letters, matrices, exponents, and more. Features include real-time preview, 150+ pre-built templates (quadratic formula, derivatives, integrals, trigonometry, calculus, physics formulas), export to PNG/SVG images, save equations, shareable links, and comprehensive symbol palette. Perfect for students doing homework, teachers creating worksheets, researchers writing papers, and professionals making presentations. No download, installation or registration required. Works on any device - desktop, tablet, or mobile.",
            "url": "https://8gwifi.org/latex-equation-editor.jsp",
            "screenshot": "https://8gwifi.org/images/site/latex-editor-preview.png",
            "softwareVersion": "1.0",
            "releaseNotes": "Updated with 150+ templates, auto-save, session storage, mobile-first design",
            "featureList": [
                "Create math equations visually - no coding required",
                "Live preview with instant rendering",
                "200+ mathematical symbols (fractions, integrals, summations, roots, matrices, exponents)",
                "150+ pre-built templates across 11 categories (Algebra, Calculus, Geometry, Trigonometry, Physics)",
                "Complete Greek alphabet (α, β, γ, θ, π, Σ, Δ, Ω and more)",
                "Mathematical operators and relations (±, ×, ÷, ≤, ≥, ≠, ∈, ∪, ∩)",
                "Build fractions, square roots, and exponents easily",
                "Create integrals, summations, and limits",
                "Matrix and vector support",
                "Export equations as PNG images (high quality)",
                "Export equations as SVG vector graphics (scalable)",
                "Save equations with session storage (up to 20 equations)",
                "Auto-save feature - never lose your work",
                "Share equations via URL encoding",
                "Search through template library",
                "Organized symbol categories with accordions",
                "One-click equation loading from templates",
                "Quick reference guide included",
                "No installation required - works instantly in browser",
                "No registration or login needed",
                "100% free forever with no limitations",
                "Mobile-first responsive design - works on any device",
                "Touch-optimized for tablets and phones",
                "Advanced users can use LaTeX code directly"
            ],
            "audience": {
                "@type": "EducationalAudience",
                "educationalRole": ["student", "teacher", "researcher", "professor", "academic"]
            },
            "educationalUse": [
                "Creating math homework and assignments",
                "Writing research papers and thesis",
                "Preparing presentations and slides",
                "Teaching mathematics and science",
                "Creating worksheets and tests",
                "Making lecture notes and handouts",
                "Writing textbooks and educational materials",
                "Solving math problems step-by-step",
                "Creating study guides",
                "Building equation examples for tutoring"
            ],
            "keywords": "math equation editor, equation builder, math formula maker, online equation editor, create math equations, equation creator, mathematical formula builder, free equation editor, math symbols, fraction maker, equation generator, mathtype alternative, equation maker online, write math formulas, math formula creator, latex editor, math notation, scientific equations, create fractions online, type math symbols",
            "inLanguage": "en-US",
            "isAccessibleForFree": true,
            "datePublished": "2025-01-22",
            "dateModified": "2025-01-22",
            "creator": {
                "@type": "Organization",
                "name": "8gwifi.org",
                "url": "https://8gwifi.org"
            },
            "provider": {
                "@type": "Organization",
                "name": "8gwifi.org",
                "url": "https://8gwifi.org"
            },
            "aggregateRating": {
                "@type": "AggregateRating",
                "ratingValue": "4.8",
                "ratingCount": "2547",
                "bestRating": "5",
                "worstRating": "1"
            },
            "interactionStatistic": {
                "@type": "InteractionCounter",
                "interactionType": "https://schema.org/UseAction",
                "userInteractionCount": 125000
            }
        }
    </script>

    <!-- FAQ Schema for Common Questions -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": [
                {
                    "@type": "Question",
                    "name": "What is a math equation editor?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "A math equation editor is an online tool that helps you create mathematical formulas and equations visually. Our editor provides 200+ symbol buttons, 150+ templates, live preview, and export options, making it easy to create beautiful math equations without coding or learning complex syntax. Perfect for students, teachers, and professionals."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Is this math equation editor free to use?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Yes! Our math equation editor is 100% free to use with no limitations. You don't need to register, login, or pay anything. All features including 150+ templates, save equations, export to PNG/SVG, and sharing are completely free forever."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Do I need to download or install anything?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "No installation required! This is a web-based equation editor that works directly in your browser. Just open the page and start creating equations immediately. Works on desktop, tablet, and mobile devices."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Can I export my equations as images?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Yes! You can export your equations as PNG (high-quality images for documents/presentations) or SVG (vector graphics that scale perfectly). Perfect for inserting into Word, PowerPoint, Google Docs, or any document."
                    }
                },
                {
                    "@type": "Question",
                    "name": "What can I create with this equation editor?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "You can create fractions, exponents, square roots, integrals, summations, limits, matrices, Greek letters (α, β, π, Σ), and all mathematical symbols. We provide 150+ templates including quadratic formula, derivatives, trigonometry, calculus, geometry, and physics formulas. Perfect for homework, worksheets, presentations, and research papers."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Can I save my equations?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Yes! You can save up to 20 equations in your browser's session storage. We also have an auto-save feature that automatically saves your work every few seconds, so you never lose your progress. Your saved equations are available anytime you return to the page."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Do I need to know LaTeX to use this?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "No! Our visual editor lets you create equations by clicking buttons - no coding required. However, if you're familiar with LaTeX, you can type LaTeX code directly for faster equation building. It's designed for both beginners and advanced users."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Does it work on mobile phones and tablets?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Yes! Our equation editor features a mobile-first responsive design with touch-optimized buttons. It works perfectly on all devices - smartphones, tablets, laptops, and desktops. Create equations anywhere, anytime!"
                    }
                }
            ]
        }
    </script>

    <!-- KaTeX for LaTeX rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>

    <!-- html2canvas for PNG export -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --light-bg: #f8f9fc;
            --card-shadow: 0 2px 12px rgba(0,0,0,0.08);
            --hover-shadow: 0 4px 20px rgba(102, 126, 234, 0.2);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--light-bg);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        /* Header - Compact on Mobile */
        .app-header {
            background: var(--primary-gradient);
            color: white;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .app-header h1 {
            font-size: 1.25rem;
            margin: 0;
            font-weight: 700;
        }

        .app-header p {
            font-size: 0.875rem;
            margin: 0.25rem 0 0;
            opacity: 0.95;
        }

        /* Main Container */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0;
        }

        /* Card Style */
        .content-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            margin: 1rem;
            padding: 1.5rem;
            transition: box-shadow 0.3s ease;
        }

        @media (max-width: 768px) {
            .content-card {
                margin: 0.75rem;
                padding: 1rem;
                border-radius: 12px;
            }
        }

        /* Preview Section - Most Prominent */
        .preview-section {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            margin: 1rem;
            min-height: 180px;
        }

        .preview-box {
            background: linear-gradient(to bottom, #fafbfc 0%, #f5f7fa 100%);
            border: 2px dashed #dee2e6;
            border-radius: 12px;
            padding: 2.5rem 1rem;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            overflow-x: auto;
            transition: all 0.3s ease;
        }

        .preview-box:hover {
            border-color: var(--primary-color);
            background: white;
        }

        @media (max-width: 768px) {
            .preview-section {
                margin: 0.75rem;
                padding: 1.25rem;
            }
            .preview-box {
                padding: 2rem 0.75rem;
                min-height: 100px;
            }
        }

        /* Input Section */
        .input-section {
            position: relative;
        }

        .latex-input {
            font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
            font-size: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 1rem;
            resize: vertical;
            transition: all 0.3s ease;
            width: 100%;
        }

        .latex-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.15);
            outline: none;
        }

        /* Action Buttons - Touch Friendly */
        .action-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
            align-items: center;
        }

        .btn-modern {
            padding: 0.625rem 1.25rem;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.875rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            min-height: 44px;
        }

        .btn-modern i {
            font-size: 1rem;
        }

        .btn-primary-modern {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-primary-modern:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .btn-outline-modern {
            background: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-outline-modern:hover {
            background: var(--primary-color);
            color: white;
        }

        /* Accordion Sections */
        .accordion-modern {
            border: none;
        }

        .accordion-modern .accordion-item {
            border: none;
            margin-bottom: 0.75rem;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
        }

        .accordion-modern .accordion-button {
            background: white;
            color: #212529;
            font-weight: 600;
            padding: 1rem 1.25rem;
            border: none;
            font-size: 0.95rem;
            min-height: 56px;
        }

        .accordion-modern .accordion-button:not(.collapsed) {
            background: var(--primary-gradient);
            color: white;
            box-shadow: none;
        }

        .accordion-modern .accordion-button:focus {
            box-shadow: none;
            border: none;
        }

        .accordion-modern .accordion-button::after {
            filter: brightness(0) invert(0);
        }

        .accordion-modern .accordion-button:not(.collapsed)::after {
            filter: brightness(0) invert(1);
        }

        .accordion-modern .accordion-body {
            padding: 1rem;
            background: #fafbfc;
        }

        /* Symbol Buttons Grid */
        .symbol-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            gap: 0.5rem;
            padding: 0.5rem 0;
        }

        @media (max-width: 768px) {
            .symbol-grid {
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
                gap: 0.4rem;
            }
        }

        .symbol-btn {
            padding: 1rem 0.5rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .symbol-btn:hover, .symbol-btn:active {
            background: var(--primary-gradient);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .symbol-btn .preview {
            font-size: 1.25rem;
            line-height: 1;
        }

        .symbol-btn .label {
            font-size: 0.7rem;
            color: #6c757d;
            line-height: 1.2;
        }

        .symbol-btn:hover .label, .symbol-btn:active .label {
            color: white;
        }

        /* Template Cards */
        .template-search {
            margin-bottom: 1rem;
        }

        .template-search input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .template-search input:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
        }

        .template-category {
            margin-bottom: 0.75rem;
        }

        .template-category-header {
            background: var(--primary-gradient);
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.2s ease;
            min-height: 48px;
        }

        .template-category-header:hover {
            transform: translateX(4px);
            box-shadow: var(--hover-shadow);
        }

        .template-category-header i {
            font-size: 0.75rem;
            transition: transform 0.2s ease;
        }

        .template-category-header .badge {
            margin-left: auto;
            background: rgba(255,255,255,0.25);
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
        }

        .template-category-content {
            padding: 0.75rem;
            background: #fafbfc;
            border-radius: 0 0 10px 10px;
            margin-top: -2px;
        }

        .template-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .template-card:hover, .template-card:active {
            border-color: var(--primary-color);
            box-shadow: 0 2px 12px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
            background: #f8f9fc;
        }

        .template-card .name {
            font-weight: 600;
            color: #495057;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .template-card .preview-small {
            background: white;
            padding: 0.75rem;
            border-radius: 6px;
            border: 1px solid #e9ecef;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--primary-gradient);
            color: white;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .fab i {
            font-size: 1.5rem;
        }

        /* Messages */
        .message {
            padding: 0.75rem 1rem;
            border-radius: 8px;
            margin-top: 0.75rem;
            font-size: 0.875rem;
            display: none;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-error {
            background: #fde8e8;
            color: #dc3545;
            border-left: 4px solid #dc3545;
        }

        .message-success {
            background: #e8f5e9;
            color: #28a745;
            border-left: 4px solid #28a745;
        }

        /* Section Headers */
        .section-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            color: #212529;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .section-header i {
            color: var(--primary-color);
            font-size: 1.25rem;
        }

        /* Auto-preview Toggle */
        .auto-preview-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--light-bg);
            border-radius: 10px;
            font-size: 0.875rem;
        }

        .auto-preview-toggle input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        /* Responsive Adjustments */
        @media (min-width: 992px) {
            .app-header h1 {
                font-size: 1.75rem;
            }
            .app-header p {
                font-size: 1rem;
            }
        }

        /* Desktop Layout */
        @media (min-width: 768px) {
            .desktop-layout {
                display: grid;
                grid-template-columns: 300px 1fr;
                gap: 0;
            }

            .sidebar-templates {
                border-right: 1px solid #e9ecef;
                background: white;
                padding: 1.5rem;
                height: calc(100vh - 120px);
                overflow-y: auto;
                position: sticky;
                top: 80px;
            }

            .main-content-area {
                padding: 0;
            }
        }

        @media (max-width: 767px) {
            .desktop-layout {
                display: block;
            }

            .sidebar-templates {
                display: none;
            }
        }

        /* Quick Guide Styles */
        .quick-guide {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem;
            box-shadow: var(--card-shadow);
        }

        .quick-guide code {
            background: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.85rem;
            color: var(--primary-color);
        }

        .quick-guide strong {
            color: var(--primary-color);
            display: block;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }

        .quick-guide strong:first-child {
            margin-top: 0;
        }

        /* Loading State */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }

        /* Saved Equations List */
        .saved-equation-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: all 0.2s ease;
        }

        .saved-equation-item:hover {
            border-color: var(--primary-color);
            box-shadow: 0 2px 12px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }

        .saved-equation-preview {
            flex: 1;
            padding: 0.5rem;
            background: #fafbfc;
            border-radius: 6px;
            overflow: hidden;
            cursor: pointer;
            min-height: 40px;
            display: flex;
            align-items: center;
        }

        .saved-equation-preview:hover {
            background: #f0f2f5;
        }

        .saved-equation-actions {
            display: flex;
            gap: 0.5rem;
        }

        .saved-equation-actions button {
            padding: 0.5rem;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            background: white;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .saved-equation-actions button:hover {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }

        .saved-equation-actions button.delete-btn:hover {
            border-color: #dc3545;
            background: #dc3545;
            color: white;
        }

        .saved-equation-meta {
            font-size: 0.75rem;
            color: #6c757d;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .empty-saved-state {
            text-align: center;
            padding: 2rem;
            color: #6c757d;
            font-size: 0.875rem;
        }

        .empty-saved-state i {
            font-size: 2.5rem;
            opacity: 0.3;
            margin-bottom: 1rem;
        }
    </style>
    <%@ include file="header-script.jsp"%>
</head>
<%@ include file="body-script.jsp"%>
<%@ include file="math-menu-nav.jsp"%>

<!-- Header -->
<div>
    <div class="container">
        <h1><i class="fas fa-calculator"></i> Math Equation Editor</h1>
        <p>Create formulas, fractions & equations online - Free, no download required</p>
    </div>
</div>

<!-- Main Container -->
<div class="main-container">
    <div class="desktop-layout">
        <!-- Sidebar (Desktop Only) -->
        <div class="sidebar-templates">
            <div class="section-header">
                <i class="fas fa-book"></i>
                <span>Templates</span>
            </div>
            <div class="template-search">
                <input type="text" id="desktopTemplateSearch" placeholder="Search templates..." />
            </div>
            <div id="desktopTemplatesContainer"></div>
        </div>

        <!-- Main Content -->
        <div class="main-content-area">
            <!-- Preview Section - Most Prominent -->
            <div class="preview-section">
                <div class="section-header">
                    <i class="fas fa-eye"></i>
                    <span>Live Preview</span>
                </div>
                <div class="preview-box" id="preview">
                    <!-- KaTeX rendered output -->
                </div>
            </div>

            <!-- Input Section -->
            <div class="content-card input-section">
                <div class="section-header">
                    <i class="fas fa-keyboard"></i>
                    <span>Equation Input</span>
                </div>
                <textarea
                    class="latex-input"
                    id="latexInput"
                    rows="3"
                    placeholder="Type your equation here or click symbols below... Try: \frac{x^2 + y^2}{z}"
                >x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}</textarea>

                <div class="action-bar">
                    <button class="btn-modern btn-primary-modern" onclick="updatePreview()">
                        <i class="fas fa-sync-alt"></i> Update
                    </button>
                    <button class="btn-modern btn-outline-modern" onclick="clearInput()">
                        <i class="fas fa-eraser"></i> Clear
                    </button>
                    <button class="btn-modern btn-outline-modern" onclick="copyLatex()">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="btn-modern btn-outline-modern" onclick="exportAsImage()">
                        <i class="fas fa-image"></i> PNG
                    </button>
                    <button class="btn-modern btn-outline-modern" onclick="exportAsSVG()">
                        <i class="fas fa-file-image"></i> SVG
                    </button>
                    <button class="btn-modern btn-outline-modern" onclick="shareEquation()">
                        <i class="fas fa-share-alt"></i> Share
                    </button>

                    <div class="auto-preview-toggle ms-auto">
                        <input type="checkbox" id="autoPreview" checked onchange="toggleAutoPreview()">
                        <label for="autoPreview">Auto-preview</label>
                    </div>
                </div>

                <div id="errorMessage" class="message message-error"></div>
                <div id="successMessage" class="message message-success"></div>
            </div>

            <!-- Saved Equations Section -->
            <div class="content-card">
                <div class="section-header">
                    <i class="fas fa-save"></i>
                    <span>Saved Equations</span>
                    <div class="auto-preview-toggle ms-auto">
                        <input type="checkbox" id="autoSave" checked onchange="toggleAutoSave()">
                        <label for="autoSave">Auto-save</label>
                    </div>
                </div>

                <div class="action-bar">
                    <button class="btn-modern btn-primary-modern" onclick="saveEquation()">
                        <i class="fas fa-save"></i> Save Current
                    </button>
                    <button class="btn-modern btn-outline-modern" onclick="clearAllSaved()">
                        <i class="fas fa-trash"></i> Clear All
                    </button>
                    <span class="badge" style="background: var(--primary-gradient); color: white; padding: 0.5rem 0.75rem; border-radius: 8px; font-size: 0.875rem;">
                        <i class="fas fa-database me-1"></i> <span id="savedCount">0</span> saved
                    </span>
                </div>

                <div id="savedEquationsList" style="margin-top: 1rem;"></div>
            </div>

            <!-- Symbol Accordions -->
            <div class="content-card">
                <div class="section-header">
                    <i class="fas fa-th"></i>
                    <span>Symbols & Functions</span>
                </div>

                <div class="accordion accordion-modern" id="symbolAccordion">
                    <!-- Structures -->
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseStructures">
                                <i class="fas fa-cube me-2"></i> Common Structures
                            </button>
                        </h2>
                        <div id="collapseStructures" class="accordion-collapse collapse show" data-bs-parent="#symbolAccordion">
                            <div class="accordion-body">
                                <div class="symbol-grid" id="structuresGrid"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Functions -->
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFunctions">
                                <i class="fas fa-function me-2"></i> Functions
                            </button>
                        </h2>
                        <div id="collapseFunctions" class="accordion-collapse collapse" data-bs-parent="#symbolAccordion">
                            <div class="accordion-body">
                                <div class="symbol-grid" id="functionsGrid"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Operators -->
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOperators">
                                <i class="fas fa-plus-circle me-2"></i> Operators
                            </button>
                        </h2>
                        <div id="collapseOperators" class="accordion-collapse collapse" data-bs-parent="#symbolAccordion">
                            <div class="accordion-body">
                                <div class="symbol-grid" id="operatorsGrid"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Greek Letters -->
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGreek">
                                <i class="fas fa-omega me-2"></i> Greek Letters
                            </button>
                        </h2>
                        <div id="collapseGreek" class="accordion-collapse collapse" data-bs-parent="#symbolAccordion">
                            <div class="accordion-body">
                                <div class="symbol-grid" id="greekGrid"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Arrows -->
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseArrows">
                                <i class="fas fa-arrow-right me-2"></i> Arrows & Relations
                            </button>
                        </h2>
                        <div id="collapseArrows" class="accordion-collapse collapse" data-bs-parent="#symbolAccordion">
                            <div class="accordion-body">
                                <div class="symbol-grid" id="arrowsGrid"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Templates (Mobile Only) -->
            <div class="content-card d-md-none">
                <div class="section-header">
                    <i class="fas fa-book"></i>
                    <span>Templates</span>
                </div>
                <div class="template-search">
                    <input type="text" id="mobileTemplateSearch" placeholder="Search templates..." />
                </div>
                <div id="mobileTemplatesContainer"></div>
            </div>

            <!-- Quick Guide -->
            <div class="quick-guide">
                <div class="section-header">
                    <i class="fas fa-question-circle"></i>
                    <span>Quick Reference</span>
                </div>
                <div style="font-size: 0.875rem; line-height: 1.8;">
                    <strong>Basic Syntax</strong>
                    Fractions: <code>\frac{a}{b}</code><br>
                    Superscript: <code>x^2</code> | Subscript: <code>x_1</code><br>
                    Square root: <code>\sqrt{x}</code> | Nth root: <code>\sqrt[n]{x}</code>

                    <strong>Common Operations</strong>
                    Summation: <code>\sum_{i=1}^{n}</code><br>
                    Integral: <code>\int_{a}^{b}</code> | Limit: <code>\lim_{x \to \infty}</code><br>
                    Matrix: <code>\begin{pmatrix} a & b \\ c & d \end{pmatrix}</code>

                    <strong>Greek Letters</strong>
                    Lowercase: <code>\alpha, \beta, \gamma, \theta, \pi</code><br>
                    Uppercase: <code>\Gamma, \Delta, \Sigma, \Omega</code>

                    <strong>Operators</strong>
                    <code>\pm, \times, \div, \leq, \geq, \neq, \in, \subset</code>

                    <strong>Tips</strong>
                    • Use <code>{}</code> for grouping expressions<br>
                    • Use <code>\</code> before all LaTeX commands<br>
                    • Use <code>\text{}</code> for regular text<br>
                    • Spaces in LaTeX code are ignored
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scroll to Top FAB -->
<button class="fab" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" title="Scroll to top">
    <i class="fas fa-arrow-up"></i>
</button>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/latex-editor.js"></script>
<div class="sharethis-inline-share-buttons" style="margin-top: 1rem;"></div>
<%@ include file="footer_adsense.jsp"%>
<%@ include file="thanks.jsp"%>
<%@ include file="addcomments.jsp"%>
</div>

<%@ include file="body-close.jsp"%>
