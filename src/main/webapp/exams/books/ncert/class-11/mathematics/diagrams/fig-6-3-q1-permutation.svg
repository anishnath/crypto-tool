<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 170">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 12px; fill: #1f2937; font-weight: bold; text-anchor: middle; }
      .pool { fill: #f3f4f6; stroke: #6b7280; stroke-width: 1; rx: 8; }
      .item { fill: #dbeafe; stroke: #2563eb; stroke-width: 1.5; }
      .item-used { fill: #fee2e2; stroke: #dc2626; stroke-width: 1.5; }
      .slot { fill: #fef3c7; stroke: #d97706; stroke-width: 1.5; rx: 4; }
      .label { font-family: Arial, sans-serif; font-size: 9px; fill: #4b5563; text-anchor: middle; }
      .num { font-family: Arial, sans-serif; font-size: 10px; font-weight: bold; text-anchor: middle; }
      .formula { font-family: Arial, sans-serif; font-size: 10px; fill: #4b5563; text-anchor: middle; }
      .note { font-family: Arial, sans-serif; font-size: 9px; fill: #6b7280; text-anchor: middle; }
      .arrow { stroke: #d97706; stroke-width: 1.5; fill: none; }
      .heading { font-family: Arial, sans-serif; font-size: 10px; fill: #374151; font-weight: bold; text-anchor: middle; }
    </style>
    <marker id="pm-arr" markerWidth="5" markerHeight="5" refX="5" refY="2.5" orient="auto">
      <path d="M0,0 L0,5 L5,2.5 z" fill="#d97706" />
    </marker>
  </defs>

  <text x="150" y="16" class="title">Concept: Permutation (Order Matters)</text>

  <!-- Pool of n objects -->
  <g transform="translate(20, 28)">
    <text x="55" y="0" class="heading">Pool of n objects</text>
    <rect x="0" y="5" width="110" height="50" class="pool" />
    <circle cx="18" cy="30" r="10" class="item" />
    <text x="18" y="34" class="num" fill="#2563eb">1</text>
    <circle cx="40" cy="30" r="10" class="item" />
    <text x="40" y="34" class="num" fill="#2563eb">2</text>
    <circle cx="62" cy="30" r="10" class="item" />
    <text x="62" y="34" class="num" fill="#2563eb">3</text>
    <circle cx="84" cy="30" r="10" class="item" opacity="0.5" />
    <text x="84" y="34" class="num" fill="#2563eb" opacity="0.5">...</text>
    <circle cx="102" cy="30" r="8" class="item" opacity="0.5" />
    <text x="102" y="34" class="num" fill="#2563eb" font-size="8" opacity="0.5">n</text>
  </g>

  <!-- Arrow: select r -->
  <g transform="translate(140, 45)">
    <path d="M0,10 L30,10" class="arrow" marker-end="url(#pm-arr)" />
    <text x="15" y="4" class="label" fill="#d97706" font-weight="bold">pick r</text>
  </g>

  <!-- r selected slots (ordered) -->
  <g transform="translate(180, 28)">
    <text x="50" y="0" class="heading">r ordered slots</text>
    <rect x="0" y="8" width="28" height="28" class="slot" />
    <text x="14" y="26" class="num" fill="#d97706">n</text>
    <text x="33" y="26" class="num" fill="#6b7280">&#xD7;</text>
    <rect x="38" y="8" width="28" height="28" class="slot" />
    <text x="52" y="26" class="num" fill="#d97706">n-1</text>
    <text x="75" y="26" class="num" fill="#6b7280">&#xD7;...&#xD7;</text>
    <rect x="95" y="8" width="28" height="28" class="slot" />
    <text x="109" y="22" class="num" fill="#d97706" font-size="8">n-r</text>
    <text x="109" y="30" class="num" fill="#d97706" font-size="8">+1</text>

    <text x="50" y="52" class="label">&#x2190; order matters &#x2192;</text>
  </g>

  <!-- Formula -->
  <rect x="25" y="90" width="250" height="28" rx="5" fill="#fef3c7" stroke="#d97706" stroke-width="1" />
  <text x="150" y="104" class="formula" font-weight="bold" fill="#d97706">&#x207F;P&#x1D63; = n!/(n-r)! = n &#xD7; (n-1) &#xD7; ... &#xD7; (n-r+1)</text>
  <text x="150" y="114" class="label" fill="#d97706">Number of ways to arrange r items from n</text>

  <!-- Key distinction -->
  <rect x="25" y="124" width="250" height="28" rx="5" fill="#f0fdf4" stroke="#16a34a" stroke-width="1" />
  <text x="150" y="138" class="formula" fill="#16a34a">AB &#x2260; BA in permutations (order matters!)</text>
  <text x="150" y="148" class="label" fill="#16a34a">Contrast with combinations where AB = BA</text>

  <text x="150" y="165" class="note">Permutation = Selection + Arrangement</text>

  <text x="150" y="170" text-anchor="middle" font-size="9" fill="#9ca3af" opacity="0.6">8gwifi.org</text>
</svg>
